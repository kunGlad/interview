<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    var name = "æ—¶é—´è·³è·ƒ"
        var obj1 = {
            name: "å¬é£æ˜¯é£",
        }

        // å¿…é¡»ç”¨æ™®é€šå‡½æ•°ï¼Œå› ä¸ºç®­å¤´å‡½æ•°çš„this ç»§æ‰¿è‡ªå¤–å±‚ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯windowï¼Œä¸å¯æ›´æ”¹
        function fn(a, b, c) {
            console.log(a + b + c + this.name)
        }

        Function.prototype.call2 = function (context) {
            // è¿™é‡Œæ˜¯ä¸ºäº†è€ƒè™‘åˆ°contextä¸ºç©ºçš„æƒ…å†µï¼Œä¸ºç©ºåˆ™è®¾ç½®ä¸ºWindowå¯¹è±¡
            context = context || window
            // è¿™ä¸€æ­¥æ˜¯å–å‡ºargumentsç±»æ•°ç»„å¯¹è±¡é™¤è¦ç»‘å®šçš„å¯¹è±¡å¤–çš„å‚æ•°ï¼Œåœ¨æœ¬ğŸŒ°ä¸­ä¸º  "åŠªåŠ›", 18
            const arg = [...arguments].slice(1)
            // è¿™é‡Œçš„thisæ˜¯è°ƒç”¨call2çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯bar
            context.fn = this
            // æ‰§è¡Œbarå‡½æ•°
            const res = context.fn(...arg)
            // åˆ é™¤barï¼Œé¿å…å¯¹objäº§ç”Ÿå½±å“
            delete context.fn
            // è¿”å›å‡½æ•°çš„è¿”å›å€¼
            return res
        }

        fn.call2(obj1, "æˆ‘çš„", "åå­—", "æ˜¯")
        fn.call2(null, "æˆ‘çš„", "åå­—", "æ˜¯");

</script>
</html>